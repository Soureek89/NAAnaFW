# settings_old = {
#     '.bdt_dphij1b'             : (None                           , 10, 10),
#     '.bdt_dphij1b_CR3'         : (None                           , 10, 10),
#     '.bdt_dphij1b_CR4'         : (None                           , 10, 10),
#     '.bdt_dphij2b'             : (None                           , 10, 10),
#     '.bdt_dphij2b_CR3'         : (None                           , 10, 10),
#     '.bdt_dphij2b_CR4'         : (None                           , 10, 10),
#     'dphi_6j_preS'             : ('#Delta #phi (j_{1             , ..,6},E^{miss}_{T})', 10, None),
#     'dphi_preS'                : ('#Delta #phi (j_{1             , 2},E^{miss}_{T})', 10, None),
#     'h_bdt_bjcsv'              : (None                           , 10, 10),
#     'h_bdt_bjcsv_CR3'          : (None                           , 10, 10),
#     'h_bdt_bjcsv_CR4'          : (None                           , 10, 10),
#     'h_bdt_jet1csv'            : (None                           , 10, 10),
#     'h_bdt_jet1csv_CR3'        : (None                           , 10, 10),
#     'h_bdt_jet1csv_CR4'        : (None                           , 10, 10),
#     'h_bdt_jet2csv'            : (None                           , 10, 10),
#     'h_bdt_jet2csv_CR3'        : (None                           , 10, 10),
#     'h_bdt_jet2csv_CR4'        : (None                           , 10, 10),
#     'h_bdt_prob'               : (None                           , 10, 10),
#     'h_bdt_prob_CR3'           : (None                           , 10, 10),
#     'h_bdt_prob_CR4'           : (None                           , 10, 10),
#     'h_bdt_qgl1'               : (None                           , 10, 10),
#     'h_bdt_qgl1_CR3'           : (None                           , 10, 10),
#     'h_bdt_qgl1_CR4'           : (None                           , 10, 10),
#     'h_bdt_qgl2'               : (None                           , 10, 10),
#     'h_bdt_qgl2_CR3'           : (None                           , 10, 10),
#     'h_bdt_qgl2_CR4'           : (None                           , 10, 10),
#     'h_dphi_CRqcd_had'         : ('#Delta #phi (j_{1             , 2},E^{miss}_{T})', 10, 1),
#     'h_dphi_CRtt2_had'         : ('#Delta #phi (j_{1             , 2},E^{miss}_{T})', 10, 1),
#     'h_dphi_CRttFull_had'      : ('#Delta #phi (j_{1             , 2},E^{miss}_{T})', 10, 2),
#     'h_dphi_CRtt_had'          : ('#Delta #phi (j_{1             , 2},E^{miss}_{T})', 10, 1),
#     'h_jet1Pt_CRqcd_had'       : ('Leading jet Pt distribution'  , 10, 5),
#     'h_jet1Pt_CRtt2_had'       : (None                           , 10, 5),
#     'h_jet1Pt_CRttFull_had'    : (None                           , 10, 5),
#     'h_jet1Pt_CRtt_had'        : (None                           , 10, 5),
#     'h_jet2Pt_CRqcd_had'       : ('Trailing JetPt distribution'  , 10, 5),
#     'h_jet2Pt_CRtt2_had'       : ('Trailing Jet Pt distribution' , 10, 5),
#     'h_jet2Pt_CRttFull_had'    : ('Trailing Jet Pt distribution' , 10, 5),
#     'h_jet2Pt_CRtt_had'        : ('Trailing Jet Pt distribution' , 10, 5),
#     'h_jet3Pt_CRqcd_had'       : ('Third Jet Pt distribution'    , 10, 5),
#     'h_jet3Pt_CRtt2_had'       : ('Third Jet Pt distribution'    , 10, 5),
#     'h_jet3Pt_CRttFull_had'    : ('Third Jet Pt distribution'    , 10, 5),
#     'h_jet3Pt_CRtt_had'        : ('Third Jet Pt distribution'    , 10, 5),
#     'h_jetQGL_preS'            : ('QGL discriminant'             , 10, 2),
#     'h_lepPt_CRtt2_had'        : ('Lepton pt distribution'       , 10, 1),
#     'h_lepPt_CRttFull_had'     : ('Lepton pt distribution'       , 10, 2),
#     'h_lepPt_CRtt_had'         : ('Lepton pt distribution'       , 10, 1),
#     'h_nJets_CRqcd_had'        : ('Number of tight jets'         , 10, 1),
#     'h_nJets_CRtt2_had'        : ('Number of tight jets'         , 10, 1),
#     'h_nJets_CRttFull_had'     : ('Number of tight jets'         , 10, 2),
#     'h_nJets_CRtt_had'         : ('Number of tight jets'         , 10, 1),
#     'h_nJets_preS'             : ('# jets'                       , 10, 1),
#     'h_nbJets_CRqcd_had'       : ('Number of tight b-jets'       , 10, 1),
#     'h_nbJets_CRtt2_had'       : ('Number of tight b-jets'       , 10, 1),
#     'h_nbJets_CRttFull_had'    : ('Number of tight b-jets'       , 10, 2),
#     'h_nbJets_CRtt_had'        : ('Number of tight b-jets'       , 10, 1),
#     'h_nbJets_preS'            : ('# b jets'                     , 10, 1),
#     'h_topHadCosBB_preS'       : ('#Delta #phi (b                , b)', 10, 10),
#     'h_topHadCosBM_preS'       : ('cos(#Delta #phi(b             , MET))', 10, 10),
#     'h_topHadCosTM_preS'       : ('cos(#Delta #phi(t             , MET))', 10, 10),
#     'h_topHadCosWM_preS'       : ('#Delta #phi (W                , E^{miss}_{T})', 10, 10),
#     'h_topHadMass_preMET'      : ('M_top'                        , 10, 10),
#     'h_topHadMass_preS'        : ('M_top'                        , 10, 10),
#     'h_topHadmassDrop_preS'    : ('mass drop'                    , 10, 4),
#     'h_topMassPostFit'         : ('Mass_top - postfit'           , 10, 10),
#     'h_topMassPostFit_preS'    : ('Mass_top - postfit'           , 10, 10),
#     'h_topMassPreFit'          : ('Mass_top - prefit'            , 10, 10),
#     'h_topSLMass_CRttFull_had' : ('Top Mass distribution'        , 10, None),
#     'h_topSLMass_CRtt_had'     : ('Top Mass distribution'        , 10, 10),
#     'metFinal'                 : ('MET'                          , 10, 2),
#     'metFinal_Angular'         : ('MET'                          , 10, 2),
#     'metFinal_Angular_tag'     : ('MET'                          , 10, 2),
#     'metFinal_Angular_untag'   : ('MET'                          , 10, 2),
#     'metFinal_SR_1lep'         : ('MET'                          , 10, 2),
#     'metFinal_SR_1lep_mt'      : ('MET'                          , 10, 2),
#     'metFinal_outtop'          : ('MET'                          , 10, 2),
#     'metFinal_tag'             : ('MET'                          , 10, 2),
#     'metFinal_tag_CR3'         : (None                           , 10, 4),
#     'metFinal_tag_CR4'         : (None                           , 10, 4),
#     'metFinal_untag'           : ('MET'                          , 10, 2),
#     'metFinal_untag_CR3'       : (None                           , 10, 4),
#     'metFinal_untag_CR4'       : (None                           , 10, 4),
#     'met_preS'                 : ('MET'                          , 10, 2),
#     'mva_first'                : (None                           , 10, 10),
#     'mva_first_CR3'            : (None                           , 10, 10),
#     'mva_first_CR4'            : (None                           , 10, 10),
#     'mva_second_CR3'           : (None                           , 10, 10),
#     'mva_second_CR4'           : (None                           , 10, 10),
# }

from common import met_range

# title,scale,rebin, usrrng
settings = {
    'cutFlow'                  : (None                           , 1, None, (-0.5,7.5) ),
    'h_bdt_dphij1b_CR3'         : (None                           , 10, 10, None ),
    'h_bdt_dphij1b_CR4'         : (None                           , 10, 10, None ),
    'h_bdt_dphij2b_CR3'         : (None                           , 10, 10, None ),
    'h_bdt_dphij2b_CR4'         : (None                           , 10, 10, None ),
    'h_minDPhi_10j'             : (None                           , 10, 10, None ),
    'h_bdt_bjcsv_CR3'          : (None                           , 10, 10, None ),
    'h_bdt_bjcsv_CR4'          : (None                           , 10, 10, None ),
    'h_bdt_jet1csv_CR3'        : (None                           , 10, 10, None ),
    'h_bdt_jet1csv_CR4'        : (None                           , 10, 10, None ),
    'h_bdt_jet2csv_CR3'        : (None                           , 10, 10, None ),
    'h_bdt_jet2csv_CR4'        : (None                           , 10, 10, None ),
    'h_bdt_prob_CR3'           : (None                           , 10, 10, None ),
    'h_bdt_prob_CR4'           : (None                           , 10, 10, None ),
    'h_bdt_qgl1_CR3'           : (None                           , 10, 10, None ),
    'h_bdt_qgl1_CR4'           : (None                           , 10, 10, None ),
    'h_bdt_qgl2_CR3'           : (None                           , 10, 10, None ),
    'h_bdt_qgl2_CR4'           : (None                           , 10, 10, None ),
    'h_dphi_CRqcd_had'         : ('#Delta #phi (j_{1,2},E^{miss}_{T})', 10, 1, None ),
    'h_dphi_CRtt2_had'         : ('#Delta #phi (j_{1,2},E^{miss}_{T})', 10, 1, None ),
    'h_dphi_CRtt_had'          : ('#Delta #phi (j_{1,2},E^{miss}_{T})', 10, 1, None ),
    'h_dphi_CRttFull_had'      : ('#Delta #phi (j_{1,2},E^{miss}_{T})', 10, 2, None ),
    'h_jet1Pt_CRqcd_had'       : ('Leading jet Pt distribution'  , 10, 5, None ),
    'h_jet1Pt_CRtt2_had'       : (None                           , 10, 5, None ),
    'h_jet1Pt_CRtt_had'        : (None                           , 10, 5, None ),
    'h_jet1Pt_CRttFull_had'    : (None                           , 10, 5, None ),
    'h_jet2Pt_CRqcd_had'       : ('Trailing JetPt distribution'  , 10, 5, None ),
    'h_jet2Pt_CRtt2_had'       : ('Trailing Jet Pt distribution' , 10, 5, None ),
    'h_jet2Pt_CRtt_had'        : ('Trailing Jet Pt distribution' , 10, 5, None ),
    'h_jet2Pt_CRttFull_had'    : ('Trailing Jet Pt distribution' , 10, 5, None ),
    'h_jet3Pt_CRqcd_had'       : ('Third Jet Pt distribution'    , 10, 5, None ),
    'h_jet3Pt_CRtt2_had'       : ('Third Jet Pt distribution'    , 10, 5, None ),
    'h_jet3Pt_CRtt_had'        : ('Third Jet Pt distribution'    , 10, 5, None ),
    'h_jet3Pt_CRttFull_had'    : ('Third Jet Pt distribution'    , 10, 5, None ),
    'h_lepPt_CRtt2_had'        : ('Lepton pt distribution'       , 10, 1, None ),
    'h_lepPt_CRtt_had'         : ('Lepton pt distribution'       , 10, 1, (0, 10) ),
    'h_lepPt_CRttFull_had'     : ('Lepton pt distribution'       , 10, 2, None ),
    'h_nbJets_CRqcd_had'       : ('Number of tight b-jets'       , 10, 1, None ),
    'h_nbJets_CRtt2_had'       : ('Number of tight b-jets'       , 10, 1, None ),
    'h_nbJets_CRtt_had'        : ('Number of tight b-jets'       , 10, 1, None ),
    'h_nbJets_CRttFull_had'    : ('Number of tight b-jets'       , 10, 2, None ),
    'h_nJets_CRqcd_had'        : ('Number of tight jets'         , 10, 1, None ),
    'h_nJets_CRtt2_had'        : ('Number of tight jets'         , 10, 1, None ),
    'h_nJets_CRtt_had'         : ('Number of tight jets'         , 10, 1, None ),
    'h_nJets_CRttFull_had'     : ('Number of tight jets'         , 10, 2, None ),
    'h_topHadCosBB_preS'       : ('#Delta #phi (b,b)'            , 10, 10, None ),
    'h_topHadCosBM_preS'       : ('cos(#Delta #phi(b,MET))'      , 10, 10, None ),
    'h_topHadCosTM_preS'       : ('cos(#Delta #phi(t,MET))'      , 10, 10, None ),
    'h_topHadCosWM_preS'       : ('#Delta #phi (W,E^{miss}_{T})' , 10, 10, None ),
    'h_topHadMass_preMET'      : ('M_top'                        , 10, 10, None ),
    'h_topHadMass_preS'        : ('M_top'                        , 10, 10, None ),
    'h_topHadPt_preS'          : ('Pt_top'                       , 10, 10, None ),
    'h_topHadCosBB_preS'          : ('cos(#Delta #phi(b,b))'        , 10, 10, None ),
    'h_topHadEtaBB_preS'          : ('#Delta #eta(b,b)'             , 10, 10, None ),
    'h_topHadmassDrop_preS'    : ('mass drop'                    , 10, 4, None ),
    'h_topSLMass_CRtt_had'     : ('Top Mass distribution'        , 10, 10, None ),
    'h_topSLMass_CRttFull_had' : ('Top Mass distribution'        , 10, None, None ),
    'metFinal_outtop'          : ('MET'                          , 10, 1, met_range ),#
    'metFinal_SR_1lep'         : ('MET'                          , 10, 1, met_range ),# To fix cpp
    'metFinal_SR_1lep_mt'      : ('MET'                          , 10, 1, met_range ),#
    'metFinal_CR5'             : ('MET'                          , 10, 2, met_range ),
    'metFinal_CR6'             : ('MET'                          , 10, 2, met_range ),
    'metFinal_1tag'             : ('MET'                          , 10, 2, met_range ),
    'metFinal_tag_CR3'         : (None                           , 10, 4, met_range ),
    'metFinal_tag_CR4'         : (None                           , 10, 4, met_range ),
    'metFinal_tag_CR5'         : (None                           , 10, 4, met_range ),
    'metFinal_tag_CR6'         : (None                           , 10, 4, met_range ),
    'metFinal_1tag_CR3'        : (None                           , 10, 4, met_range ),
    'metFinal_1tag_CR4'        : (None                           , 10, 4, met_range ),
    'metFinal_untag_CR3'       : (None                           , 10, 4, met_range ),
    'metFinal_untag_CR4'       : (None                           , 10, 4, met_range ),
    'mva_first_CR3'            : (None                           , 10, 10, None ),
    'mva_first_CR4'            : (None                           , 10, 10, None ),
    'mva_second_CR3'           : (None                           , 10, 10, None ),
    'mva_second_CR4'           : (None                           , 10, 10, None ),
}

store = [
    "h_topHadCosBM_allCuts",
    "h_topHadCosTM_allCuts",
    "h_topHadCosTT_MET_allCuts",
    "h_topHadCosWB_allCuts",
    "h_topHadCosWM_allCuts",
    "h_topHadEtaBB_allCuts",
    "h_topHadMass_allCuts",
    "h_topHadPt_allCuts",

    "metFinal_cosTM00",
    "metFinal_cosTM02",
    "metFinal_cosTM04",
    "metFinal_cosTMp02",
    "metFinal_cosTMp04",
    "metFinal_had45Jets",
    "metFinal_had6Jets",
    "metFinal_outtop",
    "metFinal_SR_1lep",
    "metFinal_SR_1lep_mt",
    "metFinal_CR5",
    "metFinal_CR6",
    "metFinal_1tag",
    "metFinal_tag_CR3",
    "metFinal_tag_CR4",
    "metFinal_1tag_CR3",
    "metFinal_1tag_CR4",
    "metFinal_untag_CR3",
    "metFinal_untag_CR4"
    ]
